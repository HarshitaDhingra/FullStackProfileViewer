{"ast":null,"code":"import _classCallCheck from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/src/containers/profile.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as ACTIONS from '../store/actions/actions';\nimport { Link } from 'react-router-dom';\nimport history from '../utils/history';\nimport axios from 'axios';\nimport Paper from '@material-ui/core/Paper';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport '../App.css';\n\nvar Profile = /*#__PURE__*/function (_Component) {\n  _inherits(Profile, _Component);\n\n  var _super = _createSuper(Profile);\n\n  function Profile(_props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _super.call(this, _props);\n\n    _this.handleClickOpen = function (pid) {\n      _this.setState({\n        open: true,\n        post_id: pid\n      });\n    };\n\n    _this.handleClickClose = function () {\n      _this.setState({\n        open: false,\n        post_id: null\n      });\n    };\n\n    _this.RenderProfile = function (props) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }\n      }, props.profile.profile.nickname), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        src: props.profile.profile.picture,\n        alt: \"\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }\n      }, \" \", props.profile.profile.email), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }\n      }, \" \", props.profile.profile.name, \" \"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, \" Email Verified: \"), props.profile.profile.email_verified ? /*#__PURE__*/React.createElement(\"p\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 47\n        }\n      }, \"Yes\") : /*#__PURE__*/React.createElement(\"p\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 60\n        }\n      }, \"No\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.RenderPosts = function (post) {\n      return /*#__PURE__*/React.createElement(Card, {\n        style: {\n          width: '500px',\n          height: '200px',\n          marginBottom: '10px',\n          paddingBottom: '80px'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        title: /*#__PURE__*/React.createElement(Link, {\n          to: {\n            pathname: '/post/' + post.post.pid,\n            state: {\n              post: post\n            }\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 16\n          }\n        }, post.post.title),\n        subheader: /*#__PURE__*/React.createElement(\"div\", {\n          className: \"FlexColumn\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"FlexRow\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }\n        }, post.post.date_created), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"FlexRow\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: {\n            pathname: '/editpost/' + post.post.pid,\n            state: {\n              post: post\n            }\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 19\n          }\n        }, \"Edit\")), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this.handleClickOpen(post.post.pid);\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }\n        }, \"Delete\"))),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(CardContent, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          overflow: 'hidden'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      }, \" \", post.post.body, \" \")));\n    };\n\n    _this.DeltePost = function () {\n      var post_id = _this.state.post_id;\n      axios.delete('api/delete/postcomments', {\n        data: {\n          post_id: post_id\n        }\n      }).then(function () {\n        return axios.delete('/api/delete/post', {\n          data: {\n            post_id: post_id\n          }\n        }).then(function (res) {\n          return console.log(res);\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      }).then(function () {\n        return _this.handleClickClose();\n      }).then(function () {\n        return setTimeout(function () {\n          return history.replace('/');\n        }, 700);\n      });\n    };\n\n    _this.state = {\n      open: false,\n      post_id: null\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var user_id = this.props.db_profile[0].uid;\n      axios.get('/api/get/userposts', {\n        params: {\n          user_id: user_id\n        }\n      }).then(function (res) {\n        return _this2.props.set_user_posts(res.data);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(this.RenderProfile, {\n        profile: this.props.profile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: {\n          pathname: \"/showmessages/\" + this.state.user_id\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      }, \"Show Messages\")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 8\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }\n      }, this.props.user_posts ? this.props.user_posts.map(function (post) {\n        return /*#__PURE__*/React.createElement(_this3.RenderPosts, {\n          post: post,\n          key: post.pid,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }\n        });\n      }) : null), /*#__PURE__*/React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"alert-dialog-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, \" Confirm Delete? \"), /*#__PURE__*/React.createElement(DialogContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(DialogContentText, {\n        id: \"alert-dialog-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }\n      }, \"Deleteing Post\"), /*#__PURE__*/React.createElement(DialogActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.DeltePost();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 19\n        }\n      }, \"Agree\"), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return _this3.handleClickClose();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 19\n        }\n      }, \"Cancel\")))));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    profile: state.auth_reducer.profile,\n    user_posts: state.posts_reducer.user_posts,\n    db_profile: state.auth_reducer.db_profile\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    set_user_posts: function set_user_posts(posts) {\n      return dispatch(ACTIONS.fetch_user_posts(posts));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/src/containers/profile.js"],"names":["React","Component","connect","ACTIONS","Link","history","axios","Paper","Card","CardContent","CardHeader","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","Profile","props","handleClickOpen","pid","setState","open","post_id","handleClickClose","RenderProfile","profile","nickname","picture","email","name","email_verified","RenderPosts","post","width","height","marginBottom","paddingBottom","pathname","state","title","date_created","overflow","body","DeltePost","delete","data","then","res","console","log","catch","err","setTimeout","replace","user_id","db_profile","uid","get","params","set_user_posts","user_posts","map","handleClose","mapStateToProps","auth_reducer","posts_reducer","mapDispatchToProps","dispatch","posts","fetch_user_posts"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as ACTIONS from '../store/actions/actions';\r\nimport { Link } from 'react-router-dom';\r\nimport history from '../utils/history';\r\nimport axios from 'axios';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport '../App.css'\r\n\r\n\r\n\r\nclass Profile extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      open: false,\r\n      post_id: null\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    const user_id = this.props.db_profile[0].uid\r\n    axios.get('/api/get/userposts', {params: { user_id: user_id}})\r\n      .then((res) => this.props.set_user_posts(res.data))\r\n      .catch((err) => console.log(err))\r\n\r\n  }\r\n\r\n\r\n  handleClickOpen = (pid) => {\r\n    this.setState({open: true, post_id: pid })\r\n  }\r\n\r\n  handleClickClose = () => {\r\n    this.setState({open: false, post_id: null })\r\n  }\r\n\r\n\r\n  RenderProfile = (props) => (\r\n    <div>\r\n      <h1>{props.profile.profile.nickname}</h1>\r\n      <br />\r\n      <img src={props.profile.profile.picture} alt=\"\" />\r\n      <br />\r\n      <h4> {props.profile.profile.email}</h4>\r\n      <br />\r\n      <h5> {props.profile.profile.name} </h5>\r\n      <br />\r\n      <h6> Email Verified: </h6>\r\n      {props.profile.profile.email_verified ? <p>Yes</p> : <p>No</p> }\r\n      <br />\r\n    </div>\r\n  )\r\n\r\n  RenderPosts = post => (\r\n    <Card style={{width: '500px', height: '200px', marginBottom: '10px', paddingBottom: '80px' }}>\r\n      <CardHeader\r\n        title={<Link to={{pathname:'/post/' + post.post.pid, state: {post}}}>\r\n                  {post.post.title}\r\n                </Link> }\r\n        subheader={\r\n            <div className=\"FlexColumn\">\r\n              <div className=\"FlexRow\">\r\n                {post.post.date_created}\r\n              </div>\r\n              <div className=\"FlexRow\">\r\n                <Link to={{pathname:'/editpost/' + post.post.pid, state:{post} }}>\r\n                  <button>\r\n                   Edit\r\n                  </button>\r\n                </Link>\r\n                <button onClick={() => this.handleClickOpen(post.post.pid) }>\r\n                 Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n            }\r\n          />\r\n      <br />\r\n      <CardContent>\r\n        <span style={{overflow: 'hidden' }}> {post.post.body} </span>\r\n      </CardContent>\r\n\r\n    </Card>\r\n  );\r\n\r\n  DeltePost = () => {\r\n    const post_id = this.state.post_id\r\n    axios.delete('api/delete/postcomments', {data: { post_id: post_id }} )\r\n      .then(() => axios.delete('/api/delete/post', {data: { post_id: post_id }} )\r\n          .then(res => console.log(res) ) )\r\n      .catch(err => console.log(err))\r\n      .then(() => this.handleClickClose())\r\n      .then(() => setTimeout(() => history.replace('/'), 700 ) )\r\n  }\r\n\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        <div>\r\n          <this.RenderProfile profile={this.props.profile} />\r\n\r\n        </div>\r\n        <div>\r\n        <Link to={{pathname:\"/showmessages/\" + this.state.user_id }}>\r\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n             Show Messages\r\n          </Button>\r\n       </Link>\r\n       <br />\r\n        </div>\r\n        <div>\r\n          {this.props.user_posts\r\n            ? this.props.user_posts.map(post =>\r\n              <this.RenderPosts post={post} key={post.pid} /> )\r\n            : null }\r\n        </div>\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\"> Confirm Delete? </DialogTitle>\r\n            <DialogContent>\r\n              <DialogContentText\r\n                id=\"alert-dialog-description\"\r\n                >\r\n                  Deleteing Post\r\n                </DialogContentText>\r\n                <DialogActions>\r\n                  <Button onClick={() => this.DeltePost() }>\r\n                    Agree\r\n                  </Button>\r\n                  <Button onClick={() => this.handleClickClose()}>\r\n                    Cancel\r\n                  </Button>\r\n              </DialogActions>\r\n            </DialogContent>\r\n        </Dialog>\r\n\r\n      </div>\r\n\r\n\r\n    )}\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    profile: state.auth_reducer.profile,\r\n    user_posts: state.posts_reducer.user_posts,\r\n    db_profile: state.auth_reducer.db_profile\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps (dispatch) {\r\n  return {\r\n    set_user_posts: (posts) => dispatch(ACTIONS.fetch_user_posts(posts))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n"]},"metadata":{},"sourceType":"module"}