{"ast":null,"code":"import _classCallCheck from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/src/Blog/addpost.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport history from '../utils/history';\nimport TextField from '@material-ui/core/TextField';\nimport { connect } from 'react-redux';\n\nvar AddPost = /*#__PURE__*/function (_Component) {\n  _inherits(AddPost, _Component);\n\n  var _super = _createSuper(AddPost);\n\n  function AddPost() {\n    var _this;\n\n    _classCallCheck(this, AddPost);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var user_id = _this.props.db_profile[0].uid;\n      var username = _this.props.db_profile[0].username;\n      var data = {\n        title: event.target.title.value,\n        body: event.target.body.value,\n        username: username,\n        uid: user_id\n      };\n      axios.post('/api/post/posttodb', data).then(function (response) {\n        return console.log(response);\n      }).catch(function (err) {\n        return console.log(err);\n      }).then(setTimeout(function () {\n        return history.replace('/');\n      }, 700));\n    };\n\n    return _this;\n  }\n\n  _createClass(AddPost, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: \"title\",\n        label: \"Title\",\n        margin: \"normal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(TextField, {\n        id: \"body\",\n        label: \"Body\",\n        multiline: true,\n        rowsMax: \"4\",\n        margin: \"normal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 12\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 12\n        }\n      }, \" Submit \")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return history.replace('/posts');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }, \" Cancel \"));\n    }\n  }]);\n\n  return AddPost;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    db_profile: state.auth_reducer.db_profile\n  };\n}\n\nexport default connect(mapStateToProps)(AddPost);","map":{"version":3,"sources":["/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/src/Blog/addpost.js"],"names":["React","Component","axios","history","TextField","connect","AddPost","handleSubmit","event","preventDefault","user_id","props","db_profile","uid","username","data","title","target","value","body","post","then","response","console","log","catch","err","setTimeout","replace","mapStateToProps","state","auth_reducer"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;;IAGMC,O;;;;;;;;;;;;;;;;UAEJC,Y,GAAe,UAACC,KAAD,EAAW;AACxBA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,OAAO,GAAG,MAAKC,KAAL,CAAWC,UAAX,CAAsB,CAAtB,EAAyBC,GAAzC;AACA,UAAMC,QAAQ,GAAG,MAAKH,KAAL,CAAWC,UAAX,CAAsB,CAAtB,EAAyBE,QAA1C;AACA,UAAMC,IAAI,GAAG;AAACC,QAAAA,KAAK,EAAER,KAAK,CAACS,MAAN,CAAaD,KAAb,CAAmBE,KAA3B;AACCC,QAAAA,IAAI,EAAEX,KAAK,CAACS,MAAN,CAAaE,IAAb,CAAkBD,KADzB;AAECJ,QAAAA,QAAQ,EAAEA,QAFX;AAGCD,QAAAA,GAAG,EAAEH;AAHN,OAAb;AAIAR,MAAAA,KAAK,CAACkB,IAAN,CAAW,oBAAX,EAAiCL,IAAjC,EACGM,IADH,CACQ,UAAAC,QAAQ;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,QAAZ,CAAJ;AAAA,OADhB,EAEGG,KAFH,CAES,UAACC,GAAD;AAAA,eAASH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAT;AAAA,OAFT,EAGGL,IAHH,CAGQM,UAAU,CAAC;AAAA,eAAMxB,OAAO,CAACyB,OAAR,CAAgB,GAAhB,CAAN;AAAA,OAAD,EAA6B,GAA7B,CAHlB;AAID,K;;;;;;;6BAGQ;AACP,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,QAAQ,EAAE,KAAKrB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,OADL;AAEE,QAAA,KAAK,EAAC,OAFR;AAGE,QAAA,MAAM,EAAC,QAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,eAOE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,MADL;AAEE,QAAA,KAAK,EAAC,MAFR;AAGE,QAAA,SAAS,MAHX;AAIE,QAAA,OAAO,EAAC,GAJV;AAKE,QAAA,MAAM,EAAC,QALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,eAcG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdH,eAeG;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAfH,CADF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBF,eAmBE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAMJ,OAAO,CAACyB,OAAR,CAAgB,QAAhB,CAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAnBF,CADF;AAuBD;;;;EAzCmB3B,S;;AA6CtB,SAAS4B,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLlB,IAAAA,UAAU,EAAEkB,KAAK,CAACC,YAAN,CAAmBnB;AAD1B,GAAP;AAGD;;AAED,eAAeP,OAAO,CAACwB,eAAD,CAAP,CAAyBvB,OAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport history from '../utils/history';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nclass AddPost extends Component {\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const user_id = this.props.db_profile[0].uid\r\n    const username = this.props.db_profile[0].username\r\n    const data = {title: event.target.title.value,\r\n                  body: event.target.body.value,\r\n                  username: username,\r\n                  uid: user_id}\r\n    axios.post('/api/post/posttodb', data)\r\n      .then(response => console.log(response))\r\n      .catch((err) => console.log(err))\r\n      .then(setTimeout(() => history.replace('/'), 700) )\r\n  }\r\n\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <TextField\r\n            id='title'\r\n            label='Title'\r\n            margin='normal'\r\n            />\r\n          <br />\r\n          <TextField\r\n            id='body'\r\n            label='Body'\r\n            multiline\r\n            rowsMax='4'\r\n            margin=\"normal\"\r\n            />\r\n           <br />\r\n           <button type='submit'> Submit </button>\r\n           </form>\r\n        <br />\r\n        <button onClick={() => history.replace('/posts')}> Cancel </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    db_profile: state.auth_reducer.db_profile\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddPost)\r\n"]},"metadata":{},"sourceType":"module"}