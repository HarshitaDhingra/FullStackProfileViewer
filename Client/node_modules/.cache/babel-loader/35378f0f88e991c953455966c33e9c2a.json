{"ast":null,"code":"import _classCallCheck from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/src/Blog/editpost.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport history from '../utils/history';\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from 'react-redux';\n\nvar EditPost = /*#__PURE__*/function (_Component) {\n  _inherits(EditPost, _Component);\n\n  var _super = _createSuper(EditPost);\n\n  function EditPost(props) {\n    var _this;\n\n    _classCallCheck(this, EditPost);\n\n    _this = _super.call(this, props);\n\n    _this.handleTitleChange = function (event) {\n      _this.setState({\n        title: event.target.value\n      });\n    };\n\n    _this.handleBodyChange = function (event) {\n      _this.setState({\n        body: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var user_id = _this.props.db_profile[0].uid;\n      var username = _this.props.db_profile[0].username;\n      var pid = _this.props.location.state.post.post.pid;\n      var title = event.target.title.value;\n      var body = event.target.body.value;\n      var data = {\n        title: title,\n        body: body,\n        pid: pid,\n        uid: user_id,\n        username: username\n      };\n      axios.put(\"/api/put/post\", data).then(function (res) {\n        return console.log(res);\n      }).catch(function (err) {\n        return console.log(err);\n      }).then(setTimeout(function () {\n        return history.replace('/profile');\n      }, 700));\n    };\n\n    _this.state = {\n      title: '',\n      body: ''\n    };\n    return _this;\n  }\n\n  _createClass(EditPost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        title: this.props.location.state.post.post.title,\n        body: this.props.location.state.post.post.body\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: \"title\",\n        label: \"title\",\n        margin: \"normal\",\n        value: this.state.title,\n        onChange: this.handleTitleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(TextField, {\n        id: \"body\",\n        label: \"body\",\n        multiline: true,\n        rows: \"4\",\n        margin: \"normal\",\n        value: this.state.body,\n        onChange: this.handleBodyChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, \" Submit \")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return history.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }, \" Cancel \"));\n    }\n  }]);\n\n  return EditPost;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    db_profile: state.auth_reducer.db_profile\n  };\n}\n\nexport default connect(mapStateToProps)(EditPost);","map":{"version":3,"sources":["/Users/evive 1/Desktop/EviveRepos/react-complete-fullstack/Client/src/Blog/editpost.js"],"names":["React","Component","axios","history","TextField","Button","connect","EditPost","props","handleTitleChange","event","setState","title","target","value","handleBodyChange","body","handleSubmit","preventDefault","user_id","db_profile","uid","username","pid","location","state","post","data","put","then","res","console","log","catch","err","setTimeout","replace","goBack","mapStateToProps","auth_reducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport history from '../utils/history';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { connect } from 'react-redux';\r\n\r\nclass EditPost extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      title: '',\r\n      body: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      title: this.props.location.state.post.post.title,\r\n      body: this.props.location.state.post.post.body\r\n    })\r\n  }\r\n\r\n  handleTitleChange = (event) => {\r\n    this.setState({ title: event.target.value })\r\n  }\r\n\r\n  handleBodyChange = (event) => {\r\n    this.setState({ body: event.target.value })\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    const user_id = this.props.db_profile[0].uid\r\n    const username = this.props.db_profile[0].username\r\n    const pid = this.props.location.state.post.post.pid\r\n    const title = event.target.title.value\r\n    const body = event.target.body.value\r\n\r\n    const data = {\r\n                  title: title,\r\n                  body: body,\r\n                  pid: pid,\r\n                  uid: user_id,\r\n                  username: username\r\n                    }\r\n    axios.put(\"/api/put/post\", data)\r\n      .then(res => console.log(res))\r\n      .catch(err => console.log(err))\r\n      .then(setTimeout(() => history.replace('/profile'), 700 ))\r\n  }\r\n\r\n  render(){\r\n    return(\r\n        <div>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <TextField\r\n              id='title'\r\n              label='title'\r\n              margin=\"normal\"\r\n              value={this.state.title}\r\n              onChange={this.handleTitleChange}\r\n            />\r\n            <br />\r\n            <TextField\r\n              id='body'\r\n              label='body'\r\n              multiline\r\n              rows=\"4\"\r\n              margin='normal'\r\n              value={this.state.body}\r\n              onChange={this.handleBodyChange}\r\n              />\r\n          <br />\r\n          <button type=\"submit\"> Submit </button>\r\n          </form>\r\n          <br />\r\n          <button onClick={() => history.goBack()}> Cancel </button>\r\n        </div>\r\n    )}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    db_profile: state.auth_reducer.db_profile\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(EditPost);\r\n"]},"metadata":{},"sourceType":"module"}